{"version":3,"sources":["../src/headers.js"],"names":[],"mappings":";;;;;AAAA,IAAM,OAAO,SAAP,IAAO,GAAM,EAAN;;;AAGN,IAAM,4BACX,SADW,OACX,OAAc,GAAd,EAAmC;sBAAhC,IAAgC;MAAhC,+BAAM,cAA0B;MAAhB,6DAAO,oBAAS;;AACjC,MAAM,MAAM,IAAI,GAAJ,CAAQ,KAAR,KAAkB,YAAlB,CADqB;AAEjC,MAAM,YAAY,IAAI,GAAJ,CAAQ,cAAR,KAA2B,OAA3B,CAFe;AAGjC,MAAM,SAAS,IAAI,GAAJ,CAAQ,QAAR,KAAqB,KAAK,EAAL,GAAU,EAAV,GAAe,CAAf;;AAHH,MAK7B,QAAQ,aAAR,EAAuB;AACzB,QAAI,GAAJ,CAAQ,eAAR,uBAA4C,MAA5C,EADyB;AAEzB,QAAI,GAAJ,CAAQ,SAAR,EAAmB,IAAI,IAAJ,CAAS,KAAK,GAAL,KAAc,SAAS,IAAT,CAAvB,CAAuC,WAAvC,EAAnB,EAFyB;GAA3B;;AAKA,MAAI,GAAJ,CAAQ,cAAR,EAAwB,SAAxB,EAViC;AAWjC,SAXiC;CAAnC;;kBAca","file":"headers.js","sourceRoot":"./src/index.js","sourcesContent":["const noop = () => {};\n\n// http header middleware function\nexport const headers =\n  ({ app = {}}, res, next = noop) => {\n    const env = app.get('env') || 'production';\n    const poweredBy = app.get('X-Powered-By') || 'Magic';\n    const maxAge = app.get('maxAge') || 60 * 60 * 24 * 7; // default to 7 days\n\n    if (env !== 'development') {\n      res.set('Cache-Control', `public, max-age=${maxAge}`);\n      res.set('Expires', new Date(Date.now() + (maxAge * 1000)).toUTCString());\n    }\n\n    res.set('X-Powered-By', poweredBy);\n    next();\n  };\n\nexport default headers;\n"]}