{"version":3,"sources":["../src/favicon.js"],"names":[],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEO,IAAM,4BACX,SADW,OACX,CAAC,GAAD,EAAS;AACP,MAAM,OAAO,IAAI,GAAJ,CAAQ,MAAR,CAAb;AACA,MAAM,cAAc,gBAAK,KAAK,MAAV,EAAkB,aAAlB,CAApB;;;AAGA,MAAI,eAAe,CAAC,IAAI,GAAJ,CAAQ,gBAAR,CAAhB,IAA6C,CAAC,IAAI,GAAJ,CAAQ,eAAR,CAAlD,EAA4E;AAC1E,QAAI,GAAJ,CAAQ,gBAAR,EAA0B,IAA1B;AACA,QAAI,GAAJ,CAAQ,eAAR,EAAyB,oBAAW,WAAX,CAAzB;AACD;;AAED,MAAI,IAAI,GAAJ,CAAQ,eAAR,CAAJ,EAA8B;AAC5B,QAAI,GAAJ,CAAQ,4BAAa,WAAb,CAAR;AACD;AACF,CAdI;;kBAgBQ,O","file":"favicon.js","sourceRoot":"./src/index.js","sourcesContent":["import { existsSync } from 'fs'\nimport { join } from 'path'\nimport serveFavicon from 'serve-favicon'\n\nexport const favicon =\n  (app) => {\n    const dirs = app.get('dirs')\n    const faviconPath = join(dirs.public, 'favicon.ico')\n\n    // fs.existsSync only gets called once on first request\n    if (faviconPath && !app.get('faviconChecked') && !app.get('faviconExists')) {\n      app.set('faviconChecked', true)\n      app.set('faviconExists', existsSync(faviconPath))\n    }\n\n    if (app.get('faviconExists')) {\n      app.use(serveFavicon(faviconPath))\n    }\n  }\n\nexport default favicon\n"]}